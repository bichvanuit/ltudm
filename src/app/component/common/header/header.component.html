<div id="loading" class="hidden">
  <div class="load-circle"><span class="one"></span></div>
  <div style="position: absolute;top: 80px;left: 0;right: 0;bottom: 0;margin: auto;text-align: center;width: 175px;height: 20px;">Đang
    tải dữ liệu...</div>
</div>
<header>
  <div id="header">
    <div class="header-form-container">
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <a [routerLink]="['/index']"><img id="logo" width="150px;" src="assets/images/logo/logo.png"></a>
          </div>
          <div class="col-md-7">
            <form (submit)="onSubmit();">
              <div class="search-wrap">
                <div class="input">
                  <div class="flex">
                    <input type="text" [(ngModel)]="q" name="q" autocomplete="off" value="" placeholder="Tìm sản phẩm">
                  </div>
                </div>
                <button class="btn-search">
                  <i class="fa fa-search"></i>
                  <span>Tìm kiếm</span>
                </button>
              </div>
            </form>
          </div>
          <div class="col ml-auto" id="head-content-right">
            <div class="row">
              <div class="col-md-5">
                <div class="customer">
                  <i class="material-icons">account_circle</i>
                  <a><span>{{ user }}</span></a>
                </div>
              </div>
              <div class="col-md-7">
                <div class="h-cart" (click)="getCart();" data-toggle="collapse" href="#checkCart" role="button"
                  aria-expanded="false" aria-controls="checkCart">
                  <i class="material-icons">shopping_cart</i>
                  <span>Giỏ hàng</span>
                  <span class="cart-count">{{ numProduct }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<div id="navigation">
  <div class="container">
    <div id="responsive-nav">
      <div class="menu-nav">
        <span class="menu-header">Menu <i class="fa fa-bars"></i></span>
        <ul class="menu-list">
          <li class="main-menu"><i class="mwicon fa fa-bars" aria-hidden="true"></i> DANH MỤC</li>
          <li>
            <a [routerLink]="['/search/phone']">
              <span>Điện thoại</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/search/laptop']">
              <span>Laptop</span>
            </a>
          </li>
          <li>
            <a [routerLink]="['/search/camera']">
              <span>Máy ảnh</span>
            </a>
          </li>
          <li class="pull-right">
            <a [routerLink]="['/look-up-order']">
              <i class="fa fa-compass mwicon" aria-hidden="true"></i>
              <span data-toggle="modal" data-target="#Modal-follow-order">Đơn hàng của tôi</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div id="menu" class="collapse">
    <div class="row">
      <div class="list-menu col-md-3 px-0">
        <ul>
          <li (mouseenter)="change(0)">
            <a [routerLink]="['/search/phone']"><span><i class="material-icons mwicon">phone_android</i>Điện thoại - Máy tính bảng</span></a>
          </li>
          <li (mouseenter)="change(1)">
            <a [routerLink]="['/search/laptop']"><span><i class="mwicon fa fa-laptop" aria-hidden="true"></i>Laptop - Phụ kiện công
                nghệ</span></a>
          </li>
          <li (mouseenter)="change(2)">
            <a [routerLink]="['/search/camera']"><span><i class="mwicon fa fa-camera" aria-hidden="true"></i> Máy ảnh - Máy quay
                phim</span></a>
          </li>
        </ul>
      </div>
      <div class="content-menu col-md-9 pl-0">

        <div class="row col-md-12" *ngIf="active[0]">
          <div class="col-md-3">
            <p class="title-menu">Smartphone chính hãng</p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{manufacturer:'Apple'}">Apple</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{manufacturer:'Nokia'}">Nokia</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{manufacturer:'Xiaomi'}">Xiaomi</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{manufacturer:'OPPO'}">OPPO</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{manufacturer:'Huawei'}">Huawei</a></p>
          </div>
          <div class="col-md-3">
            <p class="title-menu">Camera trước</p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{front_camera:'2MP'}">2MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{front_camera:'5MP'}">5MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{front_camera:'8MP'}">8MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{front_camera:'16MP'}">16MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{front_camera:'24MP'}">24MB</a></p>
          </div>
          <div class="col-md-3">
            <p class="title-menu">Camera sau</p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{after_camera:'5MP'}">5MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{after_camera:'8MP'}">8MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{after_camera:'12MP'}">12MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{after_camera:'13MP'}">13MB</a></p>
            <p><a [routerLink]="['/search/phone']" [queryParams]="{after_camera:'16MP'}">16B</a></p>          
          </div>
        </div>

        <div class="row col-md-12" *ngIf="active[1]">
          <div class="col-md-3">
            <p class="title-menu">Laptop chính hãng</p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{manufacturer:'Acer'}">Acer</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{manufacturer:'HP'}">HP</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{manufacturer:'Toshiba'}">Toshiba</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{manufacturer:'Dell'}">Dell</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{manufacturer:'OEM'}">OEM</a></p>
          </div>
          <div class="col-md-3">
            <p class="title-menu">RAM</p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{RAM:'4MB'}">4MB</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{RAM:'4MB'}">8MB</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{RAM:'4MB'}">16MB</a></p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{RAM:'4MB'}">32MB</a></p>              
          </div>
          <div class="col-md-3">
            <p class="title-menu">Chip</p>
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{chip:'8750H'}">8750H</a></p>            
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{chip:'8300H'}">8300H</a></p>  
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{chip:'8550U'}">8550U</a></p>  
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{chip:'8130U'}">8130U</a></p>  
            <p><a [routerLink]="['/search/laptop']" [queryParams]="{chip:'7200U'}">7200U</a></p>  
          </div>
        </div>

        <div class="row col-md-12" *ngIf="active[2]">
          <div class="col-md-3">
            <p class="title-menu">Camera chính hãng</p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{manufacturer:'OEM'}">OEM</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{manufacturer:'Nikon'}">Nikon</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{manufacturer:'Fujifilm'}">Fujifilm</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{manufacturer:'Canon'}">Canon</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{manufacturer:'SanDisk'}">SanDisk</a></p>
          </div>
          <div class="col-md-3">
            <p class="title-menu">Màn hình</p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{screen_size:'2 inch'}">2 inch</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{screen_size:'2.7 inch'}">2.7 inch</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{screen_size:'3 inch'}">3 inch</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{screen_size:'3.2 inch'}">3.2 inch</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{screen_size:'4 inch'}">4 inch</a></p>
          </div>
          <div class="col-md-3">
            <p class="title-menu">Độ phân giải</p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{camera:'12MP'}">12MP</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{camera:'20.2 MP'}">20.2 MP</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{camera:'24.2MP'}">24.2MP</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{camera:'24.3MP'}">24.3MP</a></p>
            <p><a [routerLink]="['/search/camera']" [queryParams]="{camera:'50.6 MP'}">50.6 MP</a></p>  
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="collapse" id="checkCart">
  <div class="content" *ngIf="!isEmpty">
    <div class="minicart-list">
      <ul>
        <ng-container *ngFor="let product of cart">
          <li>
            <div class="row">
              <div class="col-md-2 product-img">
                <a href="#">
                  <img alt="" [src]="'http://103.232.120.91:1337' + product.image" />
                </a>
              </div>
              <div class="col-md-4 mt-2 short-info">
                <a class="field-name" [routerLink]="'/product/' + product.category_id  + product.url_product">{{
                  product.product_name }}</a>
              </div>
              <div class="col-md-2 quanlity">{{ product.num }}</div>
              <div class="col-md-3 price">{{ product.price_sale | number }} ₫</div>
            </div>
          </li>
        </ng-container>
      </ul>
    </div>
    <div class="minicart-total">
      <div class="inner">
        <span class="txt">Tổng giá tiền</span>
        <span class="total">{{ totalPrice | number }} ₫</span>
      </div>
      <button type="button" class="btn primary-btn btn-lg btn-block btn-continue" style="margin-top: 20px;"
        [routerLink]="['/check-cart']">Thanh toán</button>
    </div>
  </div>
  <div *ngIf="isEmpty">
    <div style="padding: 15px;">
      <h6>Không có sản phẩm trong giỏ hàng</h6>
    </div>
  </div>
</div>
<div id="add-to-cart" style="display: none">
  <p><i class="fa fa-check" aria-hidden="true"></i> Thêm vào giỏ hàng thành công</p>
  <button type="button" class="btn primary-btn btn-lg btn-block btn-continue" [routerLink]="['/check-cart']">Thanh toán</button>
</div>

<div id="account" style="display: none;">
  <ul>
    <ng-container *ngIf="!isLogined">
      <li><button class="btn primary-btn" id="btn-login" data-target="#authModal" data-toggle="modal" (click)="isLogin = true">Đăng
          nhập</button></li>
      <li><button class="btn primary-btn" data-target="#authModal" data-toggle="modal" (click)="isLogin = false">Tạo
          tài khoản</button></li>
      <li class="btn-facebook"><button class="btn"><i class="fa fa-facebook" aria-hidden="true"></i>Đăng nhập bằng
          Facebook</button></li>
      <li class="btn-google"><button class="btn"><i class="fa fa-google-plus" aria-hidden="true"></i>Đăng nhập bằng
          Google</button></li>
    </ng-container>
    <ng-container *ngIf="isLogined">
      <li [routerLink]="['/customer']">Thông tin tài khoản</li>
      <li class="logout">Thoát tài khoản</li>
    </ng-container>
  </ul>
</div>

<div class="back-to-top" style="bottom: 0px;"><i class="icon arrow_carrot-up"></i></div>
<div class="modal fade" id="authModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title"><span *ngIf="isLogin">Đăng nhập</span><span span *ngIf="!isLogin">Tạo
            tài khoản</span></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row mt-2">
          <div class="col-md-4">
            <p>Đăng nhập để theo dõi đơn hàng, lưu danh sách sản phẩm yêu thích, nhận nhiều ưu đãi hấp dẫn.</p>
            <img src="assets/images/page/shopping_online.png" />
          </div>
          <div class="col-md-8 pl-4">
            <div class="modal-title-authen">
              <span style="cursor: pointer;" [ngClass]="{'span-title-modal' : isLogin}" (click)="isLogin = !isLogin">Đăng
                nhập</span>
              <span style="cursor: pointer;" [ngClass]="{'span-title-modal' : !isLogin}" (click)="isLogin = !isLogin">Tạo
                tài khoản</span>
            </div>
            <div *ngIf="isLogin">
              <div class="mt-4 login">
                <form [formGroup]="formLogin">
                  <div>
                    <div class="form-group">
                      <input type="text" name="username" class="form-control effect" formControlName="username" />
                      <label class="form-control-placeholder">Email</label>
                      <p class="pull-left label-error" *ngIf="formLogin.controls.username?.hasError('required')
                                                  && formLogin.controls.username?.touched">
                        Vui lòng nhập dữ liệu.
                      </p>
                      <p class="pull-left label-error" *ngIf="formLogin.controls.username?.hasError('email')">
                        Vui lòng nhập đúng định dạng email.
                      </p>
                      <span class="focus-border"></span>
                    </div>
                  </div>
                  <div class="pt-3">
                    <div class="form-group">
                      <input type="password" name="password" class="form-control effect" formControlName="password" />
                      <label class="form-control-placeholder">Mật khẩu:</label>
                      <p class="pull-left label-error" *ngIf="formLogin.controls.password?.hasError('required')
                                                && formLogin.controls.password?.touched">
                        Vui lòng nhập dữ liệu.
                      </p>
                      <span class="focus-border"></span>
                    </div>
                  </div>

                  <div class="row">
                    <!--
                        <div class="checkbox col-md-6">
                          <div class="radio">
                            <input id="remember" data-key="itinerary" data-result="2" name="itinerary" class="field option-input" type="checkbox" value="1" />
                            <label for="remember">Nhớ địa chỉ Email</label>
                          </div>
                        </div>
                        <div class="col-md-6 text-right">
                          <a data-toggle="modal" data-target="#exampleModal">Quên mật khẩu</a>
                        </div>-->
                  </div>
                </form>

                <p class="label-error error-login"></p>
                <button type="button" [disabled]="formLogin.invalid" class="btn primary-btn btn-lg btn-block btn-login">
                  <span>Đăng nhập</span>
                </button>
                <div class="line-break">
                  <span>hoặc</span>
                </div>
                <div class="btn-facebook col-md-6 pr-1">
                  <button class="btn btn-block"><i class="fa fa-facebook" aria-hidden="true"></i>Đăng nhập bằng
                    Facebook</button>
                </div>
                <div class="btn-google col-md-6 pl-1">
                  <button class="btn btn-block"><i class="fa fa-google-plus" aria-hidden="true"></i>Đăng nhập bằng
                    Google</button>
                </div>
              </div>
            </div>
            <div *ngIf="!isLogin">
              <div class="mt-4 register">
                <form [formGroup]="formRegister">
                  <div>
                    <div class="form-group">
                      <input type="text" name="username" class="form-control effect" formControlName="username" />
                      <label class="form-control-placeholder">Email</label>
                      <p class="pull-left label-error" *ngIf="formRegister.controls.username?.hasError('required')
                                               && formRegister.controls.username?.touched">
                        Vui lòng nhập dữ liệu.
                      </p>
                      <p class="pull-left label-error" *ngIf="formRegister.controls.username?.hasError('email')">
                        Vui lòng nhập đúng định dạng mail.
                      </p>
                      <span class="focus-border"></span>
                    </div>
                  </div>
                  <div class="pt-3">
                    <div class="form-group">
                      <input type="password" name="password" class="form-control effect" formControlName="password" />
                      <label class="form-control-placeholder">Mật khẩu</label>
                      <p class="pull-left label-error" *ngIf="formRegister.controls.password?.hasError('required')
                                      && formRegister.controls.password?.touched">
                        Vui lòng nhập dữ liệu.
                      </p>
                      <span class="focus-border"></span>
                    </div>
                  </div>
                  <div class="pt-3">
                    <div class="form-group">
                      <input type="password" name="confirm" class="form-control effect" formControlName="confirm" />
                      <label class="form-control-placeholder">Nhập lại mật khẩu</label>
                      <p class="pull-left label-error" *ngIf="formRegister.controls.confirm?.hasError('required')
                                    && formRegister.controls.confirm?.touched">
                        Vui lòng nhập dữ liệu.
                      </p>
                      <span class="focus-border"></span>
                    </div>
                  </div>
                  <div class="pt-3">
                    <div class="form-group">
                      <div class="radio">
                        <input id="promotion" data-key="itinerary" data-result="2" name="itinerary" class="field option-input"
                          type="checkbox" value="1" checked />
                        <label for="promotion">Nhận thông báo khuyến mãi sớm nhất từ MWMart.vn</label>
                      </div>
                    </div>
                  </div>
                </form>
                <p class="label-error error-register"></p>
                <button type="button" [disabled]="formRegister.invalid" class="btn primary-btn btn-lg btn-block btn-register">
                  <span>Đăng ký</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer" *ngIf="!isLogin">
        <button class="btn" data-dismiss="modal">Đóng</button>
      </div>
    </div>
  </div>
</div>
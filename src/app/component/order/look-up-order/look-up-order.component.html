<div id="payment-page">
  <div class="container">
    <div class="home-wrap">
      <div class="col-md-8" style="margin: 10px auto" *ngIf="!isFind">
          <div class="card">
              <div class="card-body">
                <h5 class="title-custom">Tra cứu đơn hàng theo mã đơn hàng</h5>
                    <div class="mt-3">
                      <div class="form-group">
                        <input [(ngModel)]="order.id" type="text" name="fullname" class="form-control effect" autocomplete="off" required>
                        <label class="form-control-placeholder" for="lastname">Mã đơn hàng</label>
                        <span class="focus-border"></span>
                      </div>
                    </div>
                    <div class="">
                      <div class="form-group">
                        <input [(ngModel)]="order.phone_number" type="text" name="fullname" class="form-control effect" autocomplete="off" required>
                        <label class="form-control-placeholder" for="lastname">Số điện thoại</label>
                        <span class="focus-border"></span>
                      </div>
                    </div>  
                    <div class="">
                      <button (click)="lookUp()" class="btn primary-btn">Xem</button>
                    </div>
                    <div class="mt-4" *ngIf="status">
                      <p>Không tìm thấy đơn hàng</p>
                    </div>
              </div>
            </div>
      </div>
      <div class="col-md-12 mt-3" *ngIf="isFind">
        <div class="card">
          <div class="card-body">
            <h5 class="title-custom">Thông tin đơn hàng</h5>
            <div class="row">
              <div class="col-md-2">
                <p><strong>Khách hàng:</strong></p>
                <p><strong>Địa chỉ:</strong></p>
                <p><strong>Số điện thoại:</strong></p>
                <p><strong>Email:</strong></p>
                <p><strong>Ngày đặt hàng:</strong></p>
              </div>
              <div class="col-md-10">
                <p>{{ data.order.fullname }}</p>
                <p>{{ data.order.apartment_street_number }}, {{ data.location.commune_name }}, {{ data.location.district_name }}, {{ data.location.province_name }}</p>
                <p>{{ data.order.phone_number }}</p>
                <p>{{ data.order.email }}</p>
                <p>{{ data.order.create_at | date :'dd/MM/yyyy hh:mm' }}</p>
              </div>
            </div>            
            <h6>Chi tiết đơn hàng</h6>
            <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Tên sản phẩm</th>                    
                    <th>Giá</th>
                    <th>Số lượng</th>
                    <th>Tình trạng đơn hàng</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let product of data.product; let i = index">
                      <tr>  
                        <td><img [src]="'http://103.232.120.91:1337/' + product.image" width="74" height="57" /></td>                 
                        <td><a [routerLink]="['/product/' + product.category_id + product.url_product]" target="_blank">{{ product.product_name }}</a></td>
                        <td>{{ product.price_sale | number }} ₫</td>
                        <td>{{ product.amount }}</td>
                        <td>Chờ xác nhận</td>
                      </tr>
                  </ng-container>                 
                </tbody>
              </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

